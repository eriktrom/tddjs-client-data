// Generated by CoffeeScript 1.6.1

(function() {
  var hasObserver, notify, observe, _observers;
  _observers = function(observable, event) {
    if (!observable.observers) {
      observable.observers = {};
    }
    if (!observable.observers[event]) {
      observable.observers[event] = [];
    }
    return observable.observers[event];
  };
  observe = function(event, observer) {
    if (typeof observer !== "function") {
      throw new TypeError("observer is not a function");
    }
    return _observers(this, event).push(observer);
  };
  hasObserver = function(event, observer) {
    var observers, obsvr, _i, _len;
    observers = _observers(this, event);
    for (_i = 0, _len = observers.length; _i < _len; _i++) {
      obsvr = observers[_i];
      if (obsvr === observer) {
        return true;
      }
    }
    return false;
  };
  notify = function(event) {
    var args, observers, obsvr, _i, _len;
    observers = _observers(this, event);
    args = Array.prototype.slice.call(arguments, 1);
    for (_i = 0, _len = observers.length; _i < _len; _i++) {
      obsvr = observers[_i];
      try {
        obsvr.apply(this, args);
      } catch (e) {

      }
    }
  };
  tddjs.namespace("util").observable = {
    observe: observe,
    hasObserver: hasObserver,
    notify: notify
  };
})();
