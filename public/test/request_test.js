// Generated by CoffeeScript 1.6.1

(function() {
  var ajax;
  ajax = tddjs.ajax;
  module("Get Request", {
    setup: function() {
      this.ajaxCreate = ajax.create;
      this.xhr = Object.create(fakeXMLHttpRequest);
      return ajax.create = stubFn(this.xhr);
    },
    teardown: function() {
      return ajax.create = this.ajaxCreate;
    }
  });
  test("it should define get method", function() {
    return ok(typeof ajax.get === "function");
  });
  test("it should throw error without url", function() {
    return throws(function() {
      return ajax.get();
    }, TypeError);
  });
  test("it should obtain an XMLHttpRequest object", function() {
    ajax.get("/url");
    return ok(ajax.create.called);
  });
  test("it should call open with method, url, async flag", function() {
    var url;
    url = "/url";
    ajax.get(url);
    return deepEqual(this.xhr.open.args, ["GET", url, true]);
  });
  return test("it should add onreadystatechange handler", function() {
    ajax.get("/url");
    return ok(typeof this.xhr.onreadystatechange === "function");
  });
})();
