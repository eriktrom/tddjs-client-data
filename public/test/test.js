// Generated by CoffeeScript 1.6.1

module("Observable#addObserver");

test("it adds observers", function() {
  var observable, observers;
  observable = new tddjs.util.Observable();
  observers = [(function() {}), (function() {})];
  observable.addObserver(observers[0]);
  observable.addObserver(observers[1]);
  deepEqual(observable.observers, observers);
  ok(observable.hasObserver(observers[0]));
  return ok(observable.hasObserver(observers[1]));
});

module("Observable#hasObserver");

test("it returns true when it has observer(s)", function() {
  var observable, observer;
  observable = new tddjs.util.Observable();
  observer = function() {};
  observable.addObserver(observer);
  return ok(observable.hasObserver(observer));
});

test("it returns false when it has no observer(s)", function() {
  var observable;
  observable = new tddjs.util.Observable();
  return ok(!(observable.hasObserver(function() {})));
});

module("Observable Notify Observers");

test("it calls all observers", function() {
  var observable, observer1, observer2;
  observable = new tddjs.util.Observable();
  observer1 = function() {
    return observer1.called = true;
  };
  observer2 = function() {
    return observer2.called = true;
  };
  observable.addObserver(observer1);
  observable.addObserver(observer2);
  observable.notifyObservers();
  ok(observer1.called);
  return ok(observer2.called);
});

test("it should pass through arguments", function() {
  var actual, observable;
  observable = new tddjs.util.Observable();
  actual = null;
  observable.addObserver(function() {
    return actual = arguments;
  });
  observable.notifyObservers("String", 1, 32);
  return deepEqual(Array.prototype.slice.call(actual, 0), ["String", 1, 32]);
});
